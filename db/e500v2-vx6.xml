<?xml version="1.0" ?>
<!DOCTYPE gprconfig [
<!ENTITY % env.ent SYSTEM "env.ent"> %env.ent;
<!ENTITY % shortcuts.ent SYSTEM "shortcuts.ent"> %shortcuts.ent;
<!ENTITY % vx6.ent SYSTEM "vx6.ent"> %vx6.ent;

<!-- Local target-specific conditions -->

<!ENTITY if_this_target
    '<targets>
       <target name="e500v2-wrs-vxworks$" />
     </targets>'>

<!ENTITY if_these_c_compilers
    '<compilers>
       <compiler name="GCC_pro" />
       <!--  ??? Eventually GCC_Pro will be replaced by a e500v2-vx6-specific
       definition:
       <compiler name="E500V2-VX6-GCC-ADACORE" />
       -->
       <compiler name="E500V2-VX6-GCC-WRS" />
     </compilers>'>

<!ENTITY if_these_cpp_compilers
    '<compilers>
       <compiler name="E500V2-VX6-G++-WRS" />
     </compilers>'>

<!ENTITY if_these_wrs_compilers
    '<compilers>
       <compiler name="E500V2-VX6-G++-WRS" />
       <compiler name="E500V2-VX6-GCC-WRS" />
     </compilers>'>

]>
<gprconfig>

  &environment;

  <configuration>
     &if_this_target;

     <config>
   for Archive_Builder  use ("e500v2-wrs-vxworks-ar", "cr");
   for Archive_Builder_Append_Option use ("q");
   for Archive_Indexer  use ("e500v2-wrs-vxworks-ranlib");
   for Archive_Suffix   use ".a";
     </config>
  </configuration>

  <configuration>
    &if_rtp;
    &if_target_gpp;

    &config_mrtp;
  </configuration>

   <!-- mlongcall is passed by default in the case of GNAT.
        Do the same thing for WRS compilers for consistency.  -->

   <configuration>
     &if_these_c_compilers;
     &if_target_gpp;

     &config_mlongcall_c;
   </configuration>

   <configuration>
     &if_these_cpp_compilers;
     &if_target_gpp;

     &config_mlongcall_cpp;
   </configuration>

   <configuration>
     &if_rtp;
     &if_this_target;

     &config_rtp_cflags;
   </configuration>

   <configuration>
     &if_kernel;
     &if_this_target;

     &config_kernel_cflags;
   </configuration>

   <!-- e500v2-specific part -->

   <configuration>
     &if_these_wrs_compilers;

     &config_e500v2_cflags;
   </configuration>

</gprconfig>
