<?xml version="1.0" ?>
<gprconfig>
  <!--    GCC 3.x
    These versions of GCC provide no specific switch to get the list of
    supported languages, but we can parse the output of gcc -v.
    We filter out some of the languages, since for instance Ada is handled
    directly by GNAT, not through GCC (which doesn't necessarily have an
    Ada runtime installed anyway).
  -->
  <compiler_description>
    <name>GCC</name>
    <executable prefix="1">(.+-)?gcc</executable>
    <version>
      <external regexp="\(GCC\) (\S+)" group="1">${PREFIX}gcc --version</external>
    </version>
    <languages>
      <external regexp="--enable-languages=(\S+)" group="1">${PREFIX}gcc -v</external>
      <filter>C</filter>
    </languages>
    <target>
      <external regexp="[^\r\n]+">${PREFIX}gcc -dumpmachine</external>
    </target>
  </compiler_description>

  <compiler_description>
    <name>GCC-WRS</name>
    <executable prefix="1">cc(arm|pentium|sh|mips|ppc|sparc)</executable>
    <version>
      <external regexp="^cc.+ \(GCC\) ([0-9.]+) \(Wind River" group="1">cc${PREFIX} --version</external>
    </version>
    <languages>
      <external regexp="--enable-languages=(\S+)" group="1">cc${PREFIX} -v</external>
      <filter>c</filter>
    </languages>
    <target>
      <external regexp="[^\r\n]+">cc${PREFIX} -dumpmachine</external>
    </target>
  </compiler_description>

  <!--     GCC 2.8.1
    There is no switch, in such versions, to find out the list of languages,
    so we just assume there is only C.
    C++ could be found by looking for the "g++" executable
  -->
  <compiler_description>
    <name>GCC-28</name>
    <executable>gcc</executable>
    <version>
      <external regexp="^gcc version (\S+)" group="1">gcc -v</external>
      <must_match>2\.8\.</must_match>
    </version>
    <languages>C</languages>
    <target>
      <external regexp="[^\r\n]+">gcc -dumpmachine</external>
    </target>
  </compiler_description>

  <!--  G++ compilers
  -->

  <compiler_description>
    <name>G++</name>
    <executable>g++</executable>
    <version>
      <external regexp="\(GCC\) (\S+)" group="1">g++ --version</external>
    </version>
    <languages>C++</languages>
    <target>
      <external regexp="[^\r\n]+">gcc -dumpmachine</external>
    </target>
  </compiler_description>

  <compiler_description>
    <name>GCC-ASM</name>
    <executable prefix="1">(.+-)?gcc</executable>
    <version>
      <external regexp="\(GCC\) (\S+)" group="1">${PREFIX}gcc --version</external>
    </version>
    <languages>Asm</languages>
    <target>
      <external regexp="[^\r\n]+">${PREFIX}gcc -dumpmachine</external>
    </target>
  </compiler_description>

  <!--   GNAT
    To find the list of supported runtimes, we check the contents of the
    directory. To be compatible with older versions of GNAT (3.16 for instance),
    we also accept lib/gcc-lib as the directory that contains the runtime files.

    Implementation note: we put two spaces after -adainclude $... in the external_tool,
    because on windows the path will end with a '\', and this would act as a quote for
    the following space.
  -->
  <compiler_description>
    <name>GNAT</name>
    <executable prefix="1">(.+-)?gnatmake</executable>
    <version>
      <external regexp="GNATLS.+?(\d+\.\d+)" group="1">${PREFIX}gnatls -v</external>
      <external regexp="^gcc version (\S+)" group="1">${PREFIX}gcc -v</external>
    </version>
    <languages>Ada</languages>
    <runtimes>
       <directory group="2" >\.\./lib/gcc(-lib)?/$TARGET/$VERSION2/rts-(.*)/adainclude/</directory>
       <directory group="default" >\.\./lib/gcc(-lib)?/$TARGET/$VERSION2/adainclude/</directory>
    </runtimes>
    <target>
      <external regexp="[^\r\n]+">${PREFIX}gcc -dumpmachine</external>
    </target>
  </compiler_description>

 <!--    G77
  -->
  <compiler_description>
    <name>G77</name>
    <executable>g77</executable>
    <version>
      <external regexp="\(GCC.*\) (\S+)" group="1">g77 --version</external>
    </version>
    <languages>Fortran</languages>
    <target>
      <external regexp="[^\r\n]+">g77 -dumpmachine</external>
    </target>
  </compiler_description>

 <!--    GFortran
  -->
  <compiler_description>
    <name>GFORTRAN</name>
    <executable>gfortran</executable>
    <version>
      <external regexp="\(GCC\) (\S+)" group="1">gfortran --version</external>
    </version>
    <languages>Fortran</languages>
    <target>
      <external regexp="[^\r\n]+">gfortran -dumpmachine</external>
    </target>
  </compiler_description>

   <!--    mingw-cygwin compiler
  -->
  <compiler_description>
    <name>CYGMING-GCC</name>
    <executable>gcc</executable>
    <version>
      <external regexp="\(GCC\) (\S+).*\(cygming special\)" group="1">gcc --version</external>
    </version>
    <languages>C,C++,Fortran</languages>
    <target>
      <external regexp="[^\r\n]+">gcc -mno-cygwin -dumpmachine</external>
    </target>
  </compiler_description>
</gprconfig>
