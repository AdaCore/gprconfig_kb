========================================
Known problems in GPRBUILD version 1.4.1
========================================

Copyright (c) 2010 AdaCore

The following is a listing of known problems in release 1.4.1. Except where
specifically noted, all these problems have been corrected in the development
tree of the 1.5 technology. This means they are corrected in any wavefront
issued subsequent to the date specified (in ISO format YYYY-MM-DD) in the
status line. This can be used to determine if a given wavefront has the fix
identified in the entry.

KP-141-J513-012 Same source file name in different projects and languages

  Problem:    gprbuild does not accept an Ada source to have the same file name
              as the source of another language in another project.

  Status:     This was fixed in 1.5.0 on 2010-05-17

  Workaround: Do not put the two projects in the same project tree.

KP-141-J512-013 gprconfig always appends .exe on Windows

  Problem:    On windows, gprconfig will always add ".exe" to the executable
              name specified in the XML files (node <executable>), even if
              this extension is already specified.

  Status:     This was fixed in 1.5.0 on 2010-05-12

  Workaround: This is only a problem when trying to share the same XML file
              on Unix and Windows systems, and naming the executables with
              ".exe" on the unix platform. In such a case, use two different
              XML files.

KP-141-J506-012 Linking command line too long on VxWorks cross platforms

  Problem:    On VxWorks cross platforms hosted on Windows, if the linking
              command line is too long (>32K) because there are two many
              Ada object files, the linking phase will fail.

  Status:     This was fixed in 1.5.0 on 2010-05-07

  Workaround: Reduce the linking command line length by changing some
              project files to non shared library project files.

KP-141-J504-020 Shared SAL cannot import non library project

  Problem:    When building a shared Stand-Alone Library project that imports
              a non library project with switch --unchecked-shared-lib-imports,
              the binding of the library fails.

  Status:     This was fixed in 1.4.2 on 2010-05-05

  Workaround: Do not import a non library project in a shared SAL

KP-141-J325-035 Fake object files for header files in libraries

  Problem:    When in a library project a header file has the same base name
              as an Ada source in the main project and the library project has
              the same object directory as the main project, linking
              executables may fail, as the object files corresponding to the
              Ada source is not specified to the linker.

  Status:     This was fixed in 1.4.2 on 2010-03-30

  Workaround: Specify a different object directory for the library project.

KP-141-J316-017 Recompilation with switches -I in package Compiler

  Problem:    When switches -I are specified in package Compiler for languages
              other than Ada, gprbuild may recompile up-to-date sources of
              these languages.

  Status:     This was fixed in 1.5.0 on 2010-03-18

  Workaround: Avoid switches -I. Use sourceless auxiliary project files to
              specify the header directories.

KP-141-J310-029 Builder'Switches (others) not taken into account

  Problem:    When there are no mains (for example in a library project) or
              several mains with different languages, the switches specified in
              Builder'Switches (others) are not taken into account.

  Status:     This was fixed in 1.4.2 on 2010-03-11

  Workaround: Specify the switches on the command line.

KP-141-J309-023 Crash with pragma Restrictions (No_Dependence => ...)

  Problem     gprbuild may crash when an ALI file contains R lines to record
              pragmas Restrictions (No_Dependence => ...).

  Status:     This was fixed in 1.5.0 on 2010-03-11

  Workaround: Remove the pragmas Restrictions (No_Dependence => ...).

KP-141-J305-007 gprbuild fails to scan properly ALI files

  Problem:    When gprbuild is used with an Ada compiler with sources more
              recent than those of gprbuild, it may happen that the compiler
              put lines in the ALI files that are not known by gprbuild, and
              then gprbuild fails to scan properly ALI files.

  Status:     This was fixed in 1.4.2 on 2010-03-07

  Workaround: Use a new version of gprbuild.

KP-141-J301-025 Builder switch -p passed to the compiler

  Problem:    When gprbuild find the switch -p in package Builder of the
              main project, it invoke the compiler with this switch.

  Status:     This was fixed in 1.5.0 on 2010-03-02

  Workaround: Remove switch -p from package Builder.

KP-141-J107-023 Extending project and --no-indirect-imports

  Problem:    gprbuild fails to compile a source in a project being extended
              that imports from the extending project when invoked with
              --no-indirect-imports.

  Status:     This was fixed in 1.4.2 on 2010-01-07

  Workaround: Invoke gprbuild without --no-indirect-imports.

KP-141-IC08-014 Duplicate Linker_Options for extending projects

  Problem:    An project extending another project inherits
              Linker'Linker_Options which may result in failure to link because
              of duplicate inker options.

  Status:     This was fixed in 1.5.0 on 2009-12-08

  Workaround: Declare empty Linker_Options in the extending project

KP-141-IB16-009 Language configuration redefined in extending project

  Problem:    When the compiler of a language is defined as non existent and
              an existing driver is declared in an extending project, the
              the sources of the original project are not compiled.

  Status:     This was fixed in 1.5.0 on 2009-11-25

  Workaround: Avoid declaring non existent compiler if the project is extended.

KP-141-I925-022 No language detected when extending a project with no languages

  Problem:    A project that extends another project with no languages may
              not have a default language, as no languages were found during
              auto configuration.

  Status:     This was fixed in 1.5.0 on 2009-10-23

  Workaround: Declare the Ada language in the extending project.


