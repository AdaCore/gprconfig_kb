========================================
Known problems in GPRBUILD version 1.6.3
========================================

Copyright (C) 2012-2013, AdaCore

The following is a listing of known problems in release 1.6.3. Except where
specifically noted, all these problems have been corrected in the development
tree of the 2.0 technology. This means they are corrected in any 1.7.0w/2.0.0w
wavefront issued subsequent to the date specified (in ISO format YYYY-MM-DD) in
the status line. This can be used to determine if a given wavefront has the fix
identified in the entry.

KP-163-M214-016 VxWorks: incompatible system headers in RTP

  Problem:    When compiling a C file for a RTP on VxWorks, path to
              incompatible system headers are added to the configuration
              and can provoke a compilation error.

  Status:     This was fixed in 2.0 on 2012-07-10

  Workaround: Remove the following lines from the .cgpr file:
              for Leading_Required_Switches ("C") use
                Compiler'Leading_Required_Switches ("C")
                & ("-I" & Wind_Base & "/target/h",
                   "-I" & Wind_Base & "/target/h/wrn/coreip");

KP-163-L921-007 Resolve --RTS relative pathes

  Problem:    The behaviour of --RTS switch using a relative path is different
              when the switch appears on the gprbuild command line and when
              the switch appears in the Builder package.

  Status:     This was fixed in 2.1 on 2012-12-23

  Workaround: Specify the switch on the command line

KP-163-L717-025 gprconfig crashes with exception Expression_Error

  Problem:    If a query for the target of a compiler, such as
              "gcc -dumpmachine", returns a string that includes special
              characters or sequence of characters in regular expressions,
              gprconfig may crash with exception Expression_error.

  Status:     This was fixed in 2.0 on 2012-07-18

  Workaround: Remove from the path the compilers that returns such malformed
              targets.

KP-163-L713-021 Exception DIRECTORY_ERROR raised when missing obj directory

  Problem:    The exception DIRECTORY_ERROR is raised when an externally
              build project defines an object directory which does not
              exists.

  Status:     This was fixed in 2.0 on 2012-07-13

  Workaround: Create the missing object directory manually

KP-163-L624-002 Knowledge base must_match node may not have desired effect

  Problem:    In some cases, the toolchain that should have been ignored
              by gprconfig because it doesn't satisfy must_match criterion
              is added to the list of candidates anyway.

  Status:     This was fixed in 2.0 on 2012-06-28

  Workaround: Describe a toolchain in a way that doesn't use must_match
              criterion, or simply do not select a candidate that is incorrect.

KP-163-L530-060 Allow the same library project in multiple tree

  Problem:    An error message is reported when the same library
              project is found in different aggregated projects.

  Status:     This was fixed in 2.0 on 2012-06-06

  Workaround: Compile aggregated projects separately

KP-163-L503-024 gprbuild crashes with exception names in virtual project

  Problem:    gprbuild crashes if a project that is virtually extended
              has one or several sources with exception names specified in
              its package Naming.

  Status:     This was fixed in 2.0 on 2012-07-05

  Workaround: Use only names that follows the naming scheme of the project.

KP-163-L321-006 Extra recompilation when using gprbuild -s -m

  Problem:    When gprbuild is invoked with both -s and -m and the timestamp
              of a source (or the comments, but not the code) has changed,
              gprbuild still recompiles the source because the switches file is
              older than the source.

  Status:     This was fixed in 2.0 on 2012-03-21

  Workaround: Use only -m.

KP-163-L320-047 gprbuild --no-indirect-imports and generic instantiations

  Problem:    When --no-indirect-imports is used and an imported units
              is instantiated or contains an instantiation, there may be units
              imported by the generic body that are sources of a project that
              is not imported. In this case, gprbuild reports an error.

  Status:     This was fixed in 2.0 on 2012-03-27

  Workaround: Import the additional projects.

KP-163-L315-021 gprbuild --no-object-check and main in project file

  Problem:    When gprbuild is called with --no-object-check and no main on
              the command line, and there is one or several mains specified in
              the project file, all sources of the project files were compiled
              instead of just the closure of the mains.

  Status:     This was fixed in 2.0 on 2012-03-16

  Workaround: Call gprbuild with a main on the command line.

KP-163-L215-032 Remove duplicate stack size option on Windows

  Problem:    On Windows, a stack size option such as "-XLinker --stack="
              in the linker switches in the project file or on the command line
              is not taken into account.

  Status:     This was fixed in 2.0 on 2012-02-16

  Workaround: Make sure that the default stack size option is sufficient
              for the execution of the program.
